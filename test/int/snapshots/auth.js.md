# Snapshot report for `test/int/auth.js`

The actual snapshot is saved in `auth.js.snap`.

Generated by [AVA](https://ava.li).

## apikey

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          config.headers.Authorization = "secretApiKey";␊
        }␊
      });␊
    }␊
    `

## awsv4

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/spo-gpo.js";␊
    import "./libs/shim/core.js";␊
    import URI from "./libs/urijs.js";␊
    import aws4 from "./libs/aws4.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const address = new URI(config.address);␊
          const options = {␊
            method: "GET",␊
            protocol: address.protocol(),␊
            hostname: address.hostname(),␊
            port: address.port(),␊
            path: address.path() + address.search(),␊
            body: config.data,␊
            region: "region",␊
            service: "service"␊
          };␊
          const credential = {␊
            accessKeyId: "accesskey",␊
            secretAccessKey: "secretkey",␊
            sessionToken: "session"␊
          };␊
          const signed = aws4.sign(options, credential);␊
          const [path, query = ""] = signed.path.split("?");␊
          config.address = new URI()␊
            .protocol(address.protocol())␊
            .hostname(signed.hostname)␊
            .path(path)␊
            .query(query)␊
            .toString();␊
          Object.assign(config.headers, signed.headers);␊
        }␊
      });␊
    }␊
    `

## basic

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import URI from "./libs/urijs.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const address = new URI(config.address);␊
          address.username("user123");␊
          address.password("secret");␊
          config.address = address.toString();␊
          config.options.auth = "basic";␊
        }␊
      });␊
    }␊
    `

## bearer

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          config.headers.Authorization = "Bearer secrettoken";␊
        }␊
      });␊
    }␊
    `

## digest

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import URI from "./libs/urijs.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const address = new URI(config.address);␊
          address.username("user123");␊
          address.password("secret");␊
          config.address = address.toString();␊
          config.options.auth = "digest";␊
        }␊
      });␊
    }␊
    `

## inherit collection

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          config.headers.Authorization = "Bearer token";␊
        }␊
      });␊
    }␊
    `

## inherit folder

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import { group } from "k6";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      group("TestFolder", function() {␊
        postman[Request]({␊
          name: "TestRequest",␊
          method: "GET",␊
          address: "http://example.com/",␊
          auth(config, Var) {␊
            config.headers.Authorization = "Bearer token";␊
          }␊
        });␊
      });␊
    }␊
    `

## inherit nested

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import { group } from "k6";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      group("TestFolder1", function() {␊
        group("TestFolder2", function() {␊
          group("TestFolder3", function() {␊
            group("TestFolder4", function() {␊
              postman[Request]({␊
                name: "TestRequest",␊
                method: "GET",␊
                address: "http://example.com/",␊
                auth(config, Var) {␊
                  config.headers.Authorization = "Bearer token";␊
                }␊
              });␊
            });␊
          });␊
        });␊
      });␊
    }␊
    `

## noauth

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/"␊
      });␊
    }␊
    `

## ntlm

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import URI from "./libs/urijs.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const address = new URI(config.address);␊
          address.username("user123");␊
          address.password("secret");␊
          config.address = address.toString();␊
          config.options.auth = "ntlm";␊
        }␊
      });␊
    }␊
    `

## oauth1 address

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import OAuth from "./libs/oauth-1.0a.js";␊
    import URI from "./libs/urijs.js";␊
    import { hmac } from "k6/crypto";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        data: "line1\\nline2\\nline3\\n",␊
        auth(config, Var) {␊
          const options = {␊
            consumer: {␊
              key: "conkey",␊
              secret: "consec"␊
            },␊
            signature_method: "HMAC-SHA1",␊
            hash_function(data, key) {␊
              return hmac("sha1", key, data, "base64");␊
            },␊
            version: "1.0",␊
            realm: "realm@example.com"␊
          };␊
          const request = {␊
            method: config.method,␊
            url: config.address,␊
            data: {␊
              oauth_timestamp: "1",␊
              oauth_nonce: "10"␊
            }␊
          };␊
          const token = {␊
            key: "tokkey",␊
            secret: "toksec"␊
          };␊
          const oauth = OAuth(options);␊
          const auth = oauth.authorize(request, token);␊
          const address = new URI(config.address);␊
          for (const key of Object.keys(auth)) {␊
            address.addQuery(key, auth[key]);␊
          }␊
          config.address = address.toString();␊
        }␊
      });␊
    }␊
    `

## oauth1 body

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import OAuth from "./libs/oauth-1.0a.js";␊
    import { hmac } from "k6/crypto";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "POST",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const options = {␊
            consumer: {␊
              key: "conkey",␊
              secret: "consec"␊
            },␊
            signature_method: "HMAC-SHA1",␊
            hash_function(data, key) {␊
              return hmac("sha1", key, data, "base64");␊
            },␊
            version: "1.0",␊
            realm: "realm@example.com"␊
          };␊
          const request = {␊
            method: config.method,␊
            url: config.address,␊
            data: {␊
              oauth_timestamp: "1",␊
              oauth_nonce: "10"␊
            }␊
          };␊
          const token = {␊
            key: "tokkey",␊
            secret: "toksec"␊
          };␊
          const oauth = OAuth(options);␊
          const auth = oauth.authorize(request, token);␊
          Object.assign(config.data, auth);␊
        }␊
      });␊
    }␊
    `

## oauth1 header sha1

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import OAuth from "./libs/oauth-1.0a.js";␊
    import { hmac } from "k6/crypto";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const options = {␊
            consumer: {␊
              key: "conkey",␊
              secret: "consec"␊
            },␊
            signature_method: "HMAC-SHA1",␊
            hash_function(data, key) {␊
              return hmac("sha1", key, data, "base64");␊
            },␊
            version: "1.0",␊
            realm: "realm@example.com"␊
          };␊
          const request = {␊
            method: config.method,␊
            url: config.address,␊
            data: {␊
              oauth_timestamp: "1",␊
              oauth_nonce: "10"␊
            }␊
          };␊
          const token = {␊
            key: "tokkey",␊
            secret: "toksec"␊
          };␊
          const oauth = OAuth(options);␊
          const auth = oauth.toHeader(oauth.authorize(request, token));␊
          Object.assign(config.headers, auth);␊
        }␊
      });␊
    }␊
    `

## oauth1 header sha256

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import OAuth from "./libs/oauth-1.0a.js";␊
    import { hmac } from "k6/crypto";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const options = {␊
            consumer: {␊
              key: "conkey",␊
              secret: "consec"␊
            },␊
            signature_method: "HMAC-SHA256",␊
            hash_function(data, key) {␊
              return hmac("sha256", key, data, "base64");␊
            },␊
            version: "1.0",␊
            realm: "realm@example.com"␊
          };␊
          const request = {␊
            method: config.method,␊
            url: config.address,␊
            data: {␊
              oauth_timestamp: "1",␊
              oauth_nonce: "10"␊
            }␊
          };␊
          const token = {␊
            key: "tokkey",␊
            secret: "toksec"␊
          };␊
          const oauth = OAuth(options);␊
          const auth = oauth.toHeader(oauth.authorize(request, token));␊
          Object.assign(config.headers, auth);␊
        }␊
      });␊
    }␊
    `

## oauth1 header text

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import OAuth from "./libs/oauth-1.0a.js";␊
    import { hmac } from "k6/crypto";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const options = {␊
            consumer: {␊
              key: "conkey",␊
              secret: "consec"␊
            },␊
            signature_method: "PLAINTEXT",␊
            version: "1.0",␊
            realm: "realm@example.com"␊
          };␊
          const request = {␊
            method: config.method,␊
            url: config.address,␊
            data: {␊
              oauth_timestamp: "1",␊
              oauth_nonce: "10"␊
            }␊
          };␊
          const token = {␊
            key: "tokkey",␊
            secret: "toksec"␊
          };␊
          const oauth = OAuth(options);␊
          const auth = oauth.toHeader(oauth.authorize(request, token));␊
          Object.assign(config.headers, auth);␊
        }␊
      });␊
    }␊
    `

## oauth2 address

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    import URI from "./libs/urijs.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          const address = new URI(config.address);␊
          address.addQuery("access_token", "token");␊
          config.address = address.toString();␊
        }␊
      });␊
    }␊
    `

## oauth2 header

> Snapshot 1

    `// Auto-generated by the postman-to-k6 converter␊
    ␊
    import "./libs/shim/core.js";␊
    ␊
    export let options = { maxRedirects: 4 };␊
    ␊
    const Request = Symbol.for("request");␊
    postman[Symbol.for("initial")]({␊
      options␊
    });␊
    ␊
    export default function() {␊
      postman[Request]({␊
        name: "TestRequest",␊
        method: "GET",␊
        address: "http://example.com/",␊
        auth(config, Var) {␊
          config.headers.Authorization = "Bearer token";␊
        }␊
      });␊
    }␊
    `
